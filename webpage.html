<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iGEM 2025 | CalUCSF NeuroSplice</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');
        
        /* Custom Variables for Page Content */
        :root {
            --spacing-l: 1.5rem;
            --primary-blue: #1b496b; /* UC Berkeley Blue */
            --primary-gold: #3d93a6; /* UC Berkeley Gold (California Gold) */
        }

        /* --- GLOBAL STYLES --- */
        * {
            box-sizing: border-box;
        }
        
        html, body {
            width: 100%;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: white; 
            overflow-x: hidden;
            min-height: 250vh; 
        }

        /* General styles */
        .text-igem-blue { color: var(--primary-blue); }
        .text-igem-gold { color: var(--primary-gold); }
        
        /* --- SCROLL PROGRESS & NAVBAR STYLING (Unchanged) --- */
        
        .nav-link { position: relative; }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 3px;
            bottom: 0;
            left: 50%;
            background-color: var(--primary-gold);
            transition: width 0.3s ease-in-out, left 0.3s ease-in-out;
        }
        .nav-link:hover::after, .nav-link.active-link::after {
            width: 100%;
            left: 0;
        }

        /* --- SCROLL REVEAL ANIMATION CLASSES (Unchanged) --- */
        .animate-on-scroll {
            opacity: 0;
            transition: opacity 1.0s ease-out, transform 1.0s ease-out, filter 1.0s ease-out;
            will-change: opacity, transform, filter; /* Optimization */
        }
        .animate-on-scroll.fade-up { transform: translateY(40px); }
        .animate-on-scroll.slide-left { transform: translateX(50px); }
        .animate-on-scroll.slide-right { transform: translateX(-50px); }
        .animate-on-scroll.scale-up { transform: scale(0.95); filter: blur(5px); }
        .animate-on-scroll.revealed { opacity: 1; transform: translate(0) scale(1); filter: blur(0); }
        
        /* --- CAROUSEL/CARD STYLING (Unchanged) --- */
        .team-carousel {
            display: flex;
            overflow-x: scroll; 
            scroll-snap-type: x mandatory; 
            -webkit-overflow-scrolling: touch; 
            width: 100%;
            max-width: 1200px;
            padding: 0 1rem;
            gap: 40px; 
            list-style: none;
            scrollbar-width: none; 
        }
        .team-carousel::-webkit-scrollbar { display: none; }
        @media(min-width: 768px){ .team-carousel { overflow-x: hidden; scroll-snap-type: none; } }
        .team-carousel .card {
            flex-shrink: 0; scroll-snap-align: start; position: relative; aspect-ratio: 3 / 4;
            border-radius: var(--spacing-l); overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            cursor: pointer; width: 100%; transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .team-carousel .card:hover { transform: translateY(-8px); box-shadow: 0 20px 40px rgba(0,0,0,0.2); }
        @media(min-width: 540px){ .team-carousel .card { width: calc((100% - 40px) / 2); } }
        @media(min-width: 960px){ .team-carousel .card { width: calc((100% - 80px) / 3); } }
        .card__background {
            background-size: cover; background-position: center; bottom: 0; filter: brightness(0.85) saturate(1.1);
            left: 0; position: absolute; right: 0; top: 0; transform-origin: center; transform: scale(1) translateZ(0);
            transition: filter 400ms ease, transform 400ms ease;
        }
        .card:hover .card__background { transform: scale(1.05) translateZ(0); filter: brightness(1) saturate(1.2); }
        .card__content {
            padding: var(--spacing-l); position: absolute; bottom: 0; width: 100%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0) 100%);
        }
        .card__heading {
            color: #ffffff; font-size: 1.5rem; text-shadow: 2px 2px 10px rgba(0,0,0,0.7); line-height: 1.3; font-weight: 700;
        }
        /* --- DBTL (Design→Build→Test→Learn) Pipette Progress --- */
        .dbtl-grid { display: grid; grid-template-columns: 1fr; gap: 2rem; }
        @media (min-width: 1024px){ .dbtl-grid { grid-template-columns: 5fr 7fr; gap: 3rem; } }

        .dbtl-left { position: sticky; top: 120px; align-self: start; }
        .dbtl-pipette-wrap { height: 70vh; max-height: 720px; display: flex; flex-direction: column; justify-content: space-between; }
        .dbtl-phases { display: flex; flex-direction: column; gap: 0.5rem; margin-top: 1rem; }

        .dbtl-phase-label { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; color: #4b5563; }
        .dbtl-dot { width: 10px; height: 10px; border-radius: 9999px; background: #d1d5db; transition: transform 0.2s ease, background 0.2s ease; }
        .dbtl-phase-label.active .dbtl-dot { background: var(--primary-gold); transform: scale(1.2); }
        .dbtl-phase-label.active { color: var(--primary-blue); }

        .dbtl-right article { scroll-margin-top: 140px; }
        .dbtl-section-title { font-size: 1.75rem; font-weight: 700; color: var(--primary-blue); }
        .dbtl-card { background: #ffffff; border-radius: 1rem; box-shadow: 0 10px 30px rgba(0,0,0,0.08); border: 1px solid #eef2f7; }
        .dbtl-badge { font-size: 0.75rem; padding: 0.25rem 0.5rem; border-radius: 9999px; background: rgba(61,147,166,0.12); color: #1b496b; font-weight: 700; }

        /* SVG sizing */
        .pipette-svg { width: 100%; height: 100%; }

    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'igem-blue': '#1b496b', // UC Berkeley Blue
                        'igem-gold': '#3d93a6', // UC Berkeley Gold
                    },
                    boxShadow: {
                        'gold-lg': '0 10px 15px -3px rgba(253, 181, 21, 0.3), 0 4px 6px -2px rgba(253, 181, 21, 0.15)',
                    }
                }
            }
        }

        // --- Team Member Data (Unchanged) ---
        const teamMembers = [
            { name: "Shriya Anumarlu", role: "Team Lead", contribution: "Managed project timeline and engineered the toehold switch (computational design).", imgSrc: "https://placehold.co/400x500/003262/FDB515?text=Alice+Johnson" },
            { name: "Krrishika Saxena", role: "Wet Lab Lead", contribution: "Oversaw plasmid construction, cell culture, and fluorescence assays.", imgSrc: "https://placehold.400x500/FDB515/003262?text=Bob+Smith" },
            { name: "Saketh Machiraju", role: "Tech Team Lead", contribution: "Developed NUPACK scripts and performed BLAST specificity checks.", imgSrc: "https://placehold.co/400x500/6b7280/ffffff?text=Charlie+Davis" },
            { name: "Dana Lee", role: "Human Practices & Safety", contribution: "Conducted neurologist interviews and defined safety protocols.", imgSrc: "https://placehold.co/400x500/9ca3af/003262?text=Dana+Lee" },
            { name: "Evan Chen", role: "Marketing & Sponsorship", contribution: "Managed team funding and created promotional materials.", imgSrc: "https://placehold.co/400x500/d1d5db/003262?text=Evan+Chen" },
            { name: "Fiona Grant", role: "Design and Outreach", contribution: "Created educational materials and graphical abstracts.", imgSrc: "https://placehold.co/400x500/1f2937/ffffff?text=Fiona+Grant" },
            { name: "George King", role: "Safety & Outreach", contribution: "Ensured project compliance and organized community events.", imgSrc: "https://placehold.co/400x500/374151/ffffff?text=George+King" },
            { name: "Hannah West", role: "Wet Lab Assistant", contribution: "Aided in protocol optimization and data acquisition.", imgSrc: "https://placehold.co/400x500/e5e7eb/003262?text=Hannah+West" }
        ];

        // *** 1. MOBILE MENU TOGGLE FUNCTION (Unchanged) ***
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // *** 2. CAROUSEL LOGIC (Unchanged) ***
        function initCarousel() {
            const carousel = document.getElementById('team-card-grid');
            const prevBtn = document.getElementById('scroll-prev');
            const nextBtn = document.getElementById('scroll-next');

            if (!carousel || !prevBtn || !nextBtn) return;

            // Only initialize scroll buttons if we are on a large screen where overflow is hidden
            if (window.innerWidth < 960) {
                 prevBtn.classList.add('hidden');
                 nextBtn.classList.add('hidden');
                 return;
            } else {
                 prevBtn.classList.remove('hidden');
                 nextBtn.classList.remove('hidden');
            }

            const gap = 40; 
            let visibleCards = 1;
            if (window.innerWidth >= 960) {
                visibleCards = 3;
            } else if (window.innerWidth >= 540) {
                visibleCards = 2;
            }

            // Calculate card width and scroll step dynamically
            const cardWidth = (carousel.offsetWidth - (gap * (visibleCards - 1))) / visibleCards;
            const scrollStep = cardWidth + gap;
            
            // Clear existing listeners to prevent duplicates on resize/re-render
            const nextHandler = () => carousel.scrollBy({ left: scrollStep + 10, behavior: 'smooth' });
            const prevHandler = () => carousel.scrollBy({ left: -(scrollStep + 10), behavior: 'smooth' });
            
            nextBtn.onclick = nextHandler;
            prevBtn.onclick = prevHandler;
            
            let resizeTimer;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimer);
                resizeTimer = setTimeout(() => {
                    // Check if the team tab is visible before re-initializing carousel
                    const teamContent = document.getElementById('team-content');
                    if (teamContent && !teamContent.classList.contains('hidden')) {
                       initCarousel(); 
                    }
                }, 150); 
            });
        }
        
        function renderTeamGrid() {
            const gridContainer = document.getElementById('team-card-grid');
            if (!gridContainer) return;

            gridContainer.innerHTML = '';

            const cardsHtml = teamMembers.map(member => {
                const backgroundStyle = `background-image: url('${member.imgSrc}');`;
                return `
                    <li class="card">
                        <div class="card__background" style="${backgroundStyle}"></div>
                        <div class="card__content">
                            <p class="text-sm font-light text-gray-300">${member.role}</p>
                            <h3 class="card__heading">${member.name}</h3>
                            <p class="text-xs text-gray-400 mt-2">${member.contribution}</p>
                        </div>
                    </li>
                `;
            }).join('');

            gridContainer.innerHTML = cardsHtml;
            // Only initialize carousel if the team content is currently visible
            const teamContent = document.getElementById('team-content');
            if (teamContent && !teamContent.classList.contains('hidden')) {
                initCarousel(); 
            }
        }

        // *** SLIDING BACKGROUND LOGIC ***
        /**
         * Calculates the position and width of the active button relative to its container
         * and applies those styles to the indicator element.
         */
        function updateSliderBackground(activeBtn, indicatorId) {
            const indicator = document.getElementById(indicatorId);
            if (!activeBtn || !indicator) return;

            // The parent element is the container (e.g., project-nav)
            const navContainer = activeBtn.parentElement;
            const buttonRect = activeBtn.getBoundingClientRect();
            const navRect = navContainer.getBoundingClientRect();

            // The padding offset (p-2 in the container = 8px) must be factored in for the translateX
            const paddingOffset = 8; 
            const newLeft = buttonRect.left - navRect.left - paddingOffset;
            
            // Set the styles
            indicator.style.width = `${buttonRect.width}px`;
            indicator.style.transform = `translateX(${newLeft}px)`;
            // Ensure the indicator is visible
            indicator.classList.remove('opacity-0'); 
            indicator.classList.add('opacity-100'); 
        }


        // *** TAB SWITCHING LOGIC WITH ANIMATION ***
        const ACTIVE_CLASSES = ['opacity-100', 'translate-y-0'];
        const INACTIVE_CLASSES = ['opacity-0', 'translate-y-4'];
        const TRANSITION_DURATION = 300; 
        const delay = ms => new Promise(resolve => setTimeout(resolve, ms));

        // NEW STYLES FOR MODERN TABS
        const ACTIVE_TAB_STYLE = ['text-igem-blue', 'font-bold']; // Text style for active tab
        const INACTIVE_TAB_STYLE = ['text-gray-600', 'font-medium', 'hover:text-igem-blue']; // Text style for inactive tab

        async function animateTabSwitch(contentElements, activeTabId, buttonSelector, tabIdAttribute, indicatorId) {
            const newActiveContentId = `${activeTabId}-content`;

            // 1. Update Button Styles
            document.querySelectorAll(buttonSelector).forEach(button => {
                button.classList.remove(...ACTIVE_TAB_STYLE);
                button.classList.add(...INACTIVE_TAB_STYLE);
                // Clear any leftover background classes not needed due to the sliding box
                button.classList.remove('bg-white', 'shadow-md', 'bg-gray-100');
            });
            
            const activeBtn = document.querySelector(`[${tabIdAttribute}='${activeTabId}']`);
            if (activeBtn) {
                activeBtn.classList.remove(...INACTIVE_TAB_STYLE);
                activeBtn.classList.add(...ACTIVE_TAB_STYLE);
                // NEW: Update sliding background
                updateSliderBackground(activeBtn, indicatorId);
            }

            let outgoingContent = null;
            contentElements.forEach(content => {
                if (content.id !== newActiveContentId && !content.classList.contains('hidden')) {
                    outgoingContent = content;
                }
            });

            // 2. Animate Outgoing Content
            if (outgoingContent) {
                outgoingContent.classList.remove(...ACTIVE_CLASSES);
                outgoingContent.classList.add(...INACTIVE_CLASSES);
                await delay(TRANSITION_DURATION);
                outgoingContent.classList.add('hidden');
            }

            // 3. Animate Ingoing Content
            const activeContent = document.getElementById(newActiveContentId);
            if (activeContent) {
                activeContent.querySelectorAll('.animate-on-scroll').forEach(el => {
                    el.classList.remove('revealed'); // Reset for re-animation
                });
                
                activeContent.classList.remove('hidden'); 
                activeContent.classList.add(...INACTIVE_CLASSES); 
                void activeContent.offsetWidth; 
                activeContent.classList.remove(...INACTIVE_CLASSES);
                activeContent.classList.add(...ACTIVE_CLASSES);
                
                if (activeTabId === 'team') {
                    // Render team grid only if the team tab is active
                    renderTeamGrid();
                }
            }
        }

        // Wrapper functions (passing the indicator ID)
        function switchProjectTab(tabId) { animateTabSwitch(document.querySelectorAll('.tab-content'), tabId, '.tab-button', 'data-tab', 'project-indicator'); }
        function switchLabTab(tabId) { animateTabSwitch(document.querySelectorAll('.lab-tab-content'), tabId, '.lab-tab-button', 'data-lab-tab', 'lab-indicator'); }
        function switchHPTab(tabId) { animateTabSwitch(document.querySelectorAll('.hp-tab-content'), tabId, '.hp-tab-button', 'data-hp-tab', 'hp-indicator'); }
        function switchTeamTab(tabId) { animateTabSwitch(document.querySelectorAll('.team-tab-content'), tabId, '.team-tab-button', 'data-team-tab', 'team-indicator'); }


        // *** 5. INTERSECTION OBSERVER FOR SCROLL ANIMATIONS (Unchanged) ***
        function setupScrollObserver() {
            const sections = document.querySelectorAll('.animate-on-scroll');
            
            const observerOptions = {
                root: null, 
                rootMargin: '0px',
                threshold: 0.2 
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('revealed');
                    } 
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });
        }
        
        
        // *** 6. SCROLL PROGRESS INDICATOR LOGIC (Unchanged) ***
        function updateScrollProgress() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            const progressBar = document.getElementById("progressBar");

            if (progressBar) {
                progressBar.style.width = scrolled + "%";
            }
        }
        
        // *** 7. INITIALIZATION ON LOAD ***
        window.onload = () => {
            
            // Set initial tab states and transitions
            document.querySelectorAll('.tab-content, .lab-tab-content, .hp-tab-content, .team-tab-content').forEach(content => {
                content.classList.add('transition-all', 'duration-300', 'ease-in-out', 'transform');
            });

            // Set default active tabs and call switch functions to set initial styles AND indicator position
            // The initial state must be set for the slider to calculate its first position
            switchProjectTab('description'); 
            switchLabTab('lab-results');
            switchHPTab('hp-engagement');
            switchTeamTab('team');
            
            // Initialize the scroll reveal observer
            setupScrollObserver();
            
            // Set initial progress bar state
            updateScrollProgress();
            
            // Attach the progress update function to the scroll event
            window.onscroll = function() {
                updateScrollProgress();
            };
            
            // Attach the update function to the resize event to maintain slider position
            window.onresize = function() {
                updateScrollProgress();
                // Find currently active tab ID and re-run the switch function to recalculate the slider's position
                const activeProjectTab = document.querySelector('.tab-button.font-bold')?.getAttribute('data-tab'); 
                if (activeProjectTab) switchProjectTab(activeProjectTab);
                
                const activeLabTab = document.querySelector('.lab-tab-button.font-bold')?.getAttribute('data-lab-tab'); 
                if (activeLabTab) switchLabTab(activeLabTab);

                const activeHPTab = document.querySelector('.hp-tab-button.font-bold')?.getAttribute('data-hp-tab'); 
                if (activeHPTab) switchHPTab(activeHPTab);

                const activeTeamTab = document.querySelector('.team-tab-button.font-bold')?.getAttribute('data-team-tab'); 
                if (activeTeamTab) switchTeamTab(activeTeamTab);
            };
        };
    </script>
</head>
<body class="text-gray-800">

    <!-- Fixed Header/Navigation Bar -->
    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm shadow-xl border-b border-gray-100 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo/Title Area -->
                <div class="flex-shrink-0">
                    <a href="#home" class="text-3xl font-extrabold text-igem-blue hover:text-igem-gold transition duration-300">
                        NeuroSplice <span class="text-sm text-gray-500 font-normal">| iGEM 2025</span>
                    </a>
                </div>

                <!-- Desktop Navigation Menu -->
                <nav class="hidden md:flex space-x-6 h-full items-center">
                    <a href="#home" class="nav-link text-lg font-semibold text-gray-700 hover:text-igem-blue py-2 px-3 transition duration-200">Home</a>
                    <a href="#project" class="nav-link text-lg font-semibold text-gray-700 hover:text-igem-blue py-2 px-3 transition duration-200">Project</a>
                    <a href="#wet-lab-results" class="nav-link text-lg font-semibold text-gray-700 hover:text-igem-blue py-2 px-3 transition duration-200">Wet Lab & Results</a>
                    <a href="#humanpractices" class="nav-link text-lg font-semibold text-gray-700 hover:text-igem-blue py-2 px-3 transition duration-200">Human Practices</a>
                    <a href="#team-attributions" class="nav-link text-lg font-semibold text-gray-700 hover:text-igem-blue py-2 px-3 transition duration-200">Team & Attributions</a>
                </nav>

                <!-- Mobile Menu Button (Hamburger) -->
                <button onclick="toggleMobileMenu()" class="md:hidden text-gray-600 hover:text-igem-blue focus:outline-none p-2 rounded-md transition duration-200">
                    <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </div>

        <!-- Mobile Menu Dropdown (initially hidden) -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 pb-2">
            <a href="#home" onclick="toggleMobileMenu()" class="block px-4 py-3 text-base font-medium text-gray-700 hover:bg-igem-blue/10 transition duration-150 border-l-4 border-transparent hover:border-igem-gold">Home</a>
            <a href="#project" onclick="toggleMobileMenu()" class="block px-4 py-3 text-base font-medium text-gray-700 hover:bg-igem-blue/10 transition duration-150 border-l-4 border-transparent hover:border-igem-gold">Project</a>
            <a href="#wet-lab-results" onclick="toggleMobileMenu()" class="block px-4 py-3 text-base font-medium text-gray-700 hover:bg-igem-blue/10 transition duration-150 border-l-4 border-transparent hover:border-igem-gold">Wet Lab & Results</a>
            <a href="#humanpractices" onclick="toggleMobileMenu()" class="block px-4 py-3 text-base font-medium text-gray-700 hover:bg-igem-blue/10 transition duration-150 border-l-4 border-transparent hover:border-igem-gold">Human Practices</a>
            <a href="#team-attributions" onclick="toggleMobileMenu()" class="block px-4 py-3 text-base font-medium text-gray-700 hover:bg-igem-blue/10 transition duration-150 border-l-4 border-transparent hover:border-igem-gold">Team & Attributions</a>
        </div>

        <!-- SCROLL PROGRESS BAR -->
        <div class="w-full bg-gray-200 h-1 absolute bottom-0">
            <div id="progressBar" class="h-1 bg-igem-gold transition-all duration-100 ease-out" style="width: 0%;"></div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 pt-20">

        <!-- 1. Home / Landing Page -->
        <section id="home" class="section-anchor animate-on-scroll fade-up bg-white p-8 md:p-16 rounded-3xl shadow-2xl mb-24 border-t-8 border-igem-blue overflow-hidden">
            <div class="md:grid md:grid-cols-2 md:gap-12 items-center">
                <div class="space-y-6">
                    <h1 class="text-5xl lg:text-7xl font-extrabold text-igem-blue leading-tight">
                        NeuroSplice: Cell-Free <span class="text-igem-gold">RNA Diagnostics</span>
                    </h1>
                    <h2 class="text-2xl font-light text-gray-600 border-l-4 border-igem-gold pl-4">
                        Engineering a Low-Cost, Paper-Based Diagnostic for Disease-Associated RNA Variants.
                    </h2>
                    <p class="text-lg text-gray-700 leading-relaxed pt-4">
                        We are developing a novel biosensor called **NeuroSplice** designed to address the challenge of reliably distinguishing disease-associated splice patterns from normal variations, specifically focusing on neurological disorders like **Multiple Sclerosis**.
                    </p>
                    <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 pt-4">
                        <a href="#project" class="bg-igem-blue text-white font-semibold py-3 px-8 rounded-full shadow-lg hover:shadow-xl hover:bg-gray-700 transition-all duration-300 transform hover:scale-[1.02] text-center">
                            Explore the Project
                        </a>
                        <a href="#wet-lab-results" class="bg-igem-gold text-igem-blue font-semibold py-3 px-8 rounded-full shadow-gold-lg hover:shadow-xl hover:bg-yellow-600 hover:text-white transition-all duration-300 transform hover:scale-[1.02] text-center">
                            View Results
                        </a>
                    </div>
                </div>
                <!-- Hero Image Placeholder (Fades in slightly later) -->
                <div class="mt-10 md:mt-0 animate-on-scroll scale-up" style="transition-delay: 0.2s;">
                    <img src="https://placehold.co/600x400/003262/FDB515?text=NeuroSplice+Concept+Art" alt="Conceptual image of NeuroSplice diagnostic" class="rounded-2xl shadow-2xl border-4 border-gray-100">
                </div>
            </div>
        </section>

        <!-- 2. Project -->
        <section id="project" class="section-anchor mb-24">
            <h2 class="text-4xl font-bold text-igem-blue mb-5 pb-2 animate-on-scroll fade-up">
                <span class="border-b-4 border-igem-gold pb-1">Project Overview</span>
            </h2>

            <!-- NEW CONTAINER: This main box contains the tabs and the content -->
            <div class="bg-white p-6 rounded-2xl shadow-2xl animate-on-scroll fade-up relative" style="transition-delay: 0.2s;">

                <!-- Project Tab Navigation (Sliding Box Implementation) -->
                <div id="project-nav" class="flex flex-wrap justify-between bg-gray-100 p-2 rounded-2xl shadow-inner relative mb-8">
                    <!-- Sliding Background Indicator (The "Box" that slides) -->
                    <div 
                        id="project-indicator" 
                        class="absolute h-full bg-igem-gold/20 rounded-2xl transition-all duration-300 ease-in-out pointer-events-none opacity-0" 
                        style="top: 8px; bottom: 8px; left: 8px; z-index: 0;">
                    </div>
                    
                    <button onclick="switchProjectTab('description')" data-tab="description" class="tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Description
                    </button>
                    <button onclick="switchProjectTab('engineering')" data-tab="engineering" class="tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Engineering
                    </button>
                    <button onclick="switchProjectTab('application')" data-tab="application" class="tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Application
                    </button>
                    <button onclick="switchProjectTab('safety-security')" data-tab="safety-security" class="tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Safety & Security
                    </button>
                </div>

                <!-- Project Tab Content Container -->
                <div id="tab-content-container" class="px-2 pb-2">

                    <!-- 2.1 Description Tab (Default Active) -->
                    <div id="description-content" class="tab-content">
                        
                        <h3 class="text-3xl font-semibold text-gray-700 mb-6 animate-on-scroll fade-up">Goal, Challenge, and Solution</h3>

                        <div class="md:grid md:grid-cols-3 gap-8 items-start">
                            <!-- Left Column: Challenge -->
                            <div class="col-span-1 p-6 bg-red-50 border-l-4 border-red-500 rounded-lg shadow-sm animate-on-scroll slide-right" style="transition-delay: 0.1s;">
                                <h4 class="font-bold text-xl text-red-700 mb-2">The Challenge</h4>
                                <p class="text-gray-700 text-sm">
                                    Errors in RNA splicing drive neurological diseases. Distinguishing these tiny, disease-associated variants from normal RNA variation is difficult with standard diagnostics.
                                </p>
                            </div>
                            
                            <!-- Middle Column: Solution Highlight -->
                            <div class="col-span-1 p-6 bg-igem-gold/10 border-l-4 border-igem-gold rounded-lg shadow-md animate-on-scroll fade-up" style="transition-delay: 0.2s;">
                                <h4 class="font-bold text-xl text-igem-blue mb-2">Our Solution (NeuroSplice)</h4>
                                <p class="text-gray-700 text-sm">
                                    Engineered **toehold switches** in a portable, **cell-free system** to provide highly specific and low-cost detection of target splice variants.
                                </p>
                            </div>

                            <!-- Right Column: Application -->
                            <div class="col-span-1 p-6 bg-blue-50 border-l-4 border-igem-blue rounded-lg shadow-sm animate-on-scroll slide-left" style="transition-delay: 0.3s;">
                                <h4 class="font-bold text-xl text-igem-blue mb-2">Application</h4>
                                <p class="text-gray-700 text-sm">
                                    A simple, visual (color change/fluorescence) paper-based diagnostic for early detection and monitoring of neurological disorders like MS.
                                </p>
                            </div>
                        </div>

                        <h4 class="text-2xl font-semibold text-gray-700 mt-10 mb-3 animate-on-scroll fade-up" style="transition-delay: 0.4s;">Mechanism of Action</h4>
                        
                        <div class="md:grid md:grid-cols-3 gap-8 items-center mt-6">
                            <div class="col-span-2 order-2 md:order-1 animate-on-scroll slide-left" style="transition-delay: 0.5s;">
                                <img src="https://placehold.co/800x400/003262/FDB515?text=Figure+1:+Static+Diagram+of+Toehold+Switch+Mechanism" alt="Diagram of the Toehold Switch Genetic Circuit" class="my-6 rounded-xl shadow-xl border-4 border-gray-100">
                                <p class="text-sm text-gray-500 italic">Figure 1: The toehold switch is a programmed RNA sensor that transitions from a stable hairpin (OFF) to an open conformation (ON) only when it binds its specific disease target RNA.</p>
                            </div>
                            <div class="col-span-1 order-1 md:order-2 space-y-5 animate-on-scroll fade-up" style="transition-delay: 0.6s;">
                                <div class="p-4 bg-gray-50 rounded-lg shadow-inner">
                                    <span class="font-extrabold text-2xl text-igem-gold mr-2">1.</span>
                                    <p class="inline font-medium text-gray-700">Target RNA enters the TX-TL cell-free reaction.</p>
                                </div>
                                <div class="p-4 bg-gray-50 rounded-lg shadow-inner">
                                    <span class="font-extrabold text-2xl text-igem-gold mr-2">2.</span>
                                    <p class="inline font-medium text-gray-700">Specific binding opens the **Toehold Switch**.</p>
                                </div>
                                <div class="p-4 bg-gray-50 rounded-lg shadow-inner">
                                    <span class="font-extrabold text-2xl text-igem-gold mr-2">3.</span>
                                    <p class="inline font-medium text-gray-700">Ribosomes access the reporter gene, producing a visible **Signal**.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 2.2 Engineering Tab -->
                    <div id="engineering-content" class="tab-content hidden opacity-0 translate-y-4">
                        <h3 class="text-3xl font-bold text-igem-blue mb-6 animate-on-scroll fade-up">Computational Engineering Pipeline</h3>

                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <div class="lg:col-span-1 p-6 bg-gray-100 rounded-xl border-l-4 border-indigo-600 shadow-lg animate-on-scroll slide-right" style="transition-delay: 0.1s;">
                                <h4 class="font-semibold text-2xl mb-3 text-indigo-800">Phase I: Discovery</h4>
                                <p class="text-sm text-gray-700 mb-4">
                                    Used NCBI and PubMed to identify high-confidence splice variants associated with neurological conditions.
                                </p>
                                <span class="text-sm font-bold text-indigo-600">Key Target: IL7R exon 6 skip (Multiple Sclerosis)</span>
                            </div>

                            <div class="lg:col-span-2 p-6 bg-white rounded-xl shadow-lg border-2 border-gray-200 animate-on-scroll slide-left" style="transition-delay: 0.2s;">
                                <h4 class="font-semibold text-2xl mb-4 text-igem-blue">Phase II: Toehold Design & Validation</h4>
                                <div class="grid grid-cols-2 gap-4">
                                    <div class="p-4 border border-gray-200 rounded-lg bg-blue-50 animate-on-scroll fade-up" style="transition-delay: 0.3s;">
                                        <h5 class="font-semibold text-lg text-blue-800">NUPACK Modeling</h5>
                                        <p class="text-sm text-gray-600">Predicted MFE and confirmed stable hairpin structure (OFF state) for the sensor.</p>
                                    </div>
                                    <div class="p-4 border border-gray-200 rounded-lg bg-blue-50 animate-on-scroll fade-up" style="transition-delay: 0.4s;">
                                        <h5 class="font-semibold text-lg text-blue-800">BLAST Specificity</h5>
                                        <p class="text-sm text-gray-600">Ensured the 30-nt trigger sequence only binds the target variant, preventing false positives.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 2.3 Application Tab -->
                    <div id="application-content" class="tab-content hidden opacity-0 translate-y-4">
                        <h3 class="text-3xl font-semibold text-gray-700 mb-6 animate-on-scroll fade-up">Future Vision and Impact</h3>

                        <div class="md:grid md:grid-cols-2 gap-8">
                            <div class="space-y-6 animate-on-scroll slide-right" style="transition-delay: 0.1s;">
                                <h4 class="text-2xl font-semibold text-igem-blue border-b-2 border-igem-gold pb-1">Target Disease Portfolio</h4>
                                <ul class="space-y-3">
                                    <li class="p-3 bg-gray-50 rounded-lg shadow-sm">
                                        <span class="font-bold text-red-500">Multiple Sclerosis (MS):</span> IL7R exon 6 skip (Primary Focus).
                                    </li>
                                    <li class="p-3 bg-gray-50 rounded-lg shadow-sm">
                                        <span class="font-bold text-purple-500">Alzheimer's Disease:</span> BIN1 Exon 7 Skipping (Future Expansion).
                                    </li>
                                    <li class="p-3 bg-gray-50 rounded-lg shadow-sm">
                                        <span class="font-bold text-green-500">Parkinson's Disease:</span> SNCA Exon 3 Skipping (Future Expansion).
                                    </li>
                                </ul>
                            </div>
                            <div class="animate-on-scroll scale-up mt-8 md:mt-0" style="transition-delay: 0.2s;">
                                <h4 class="text-2xl font-semibold text-igem-blue border-b-2 border-igem-gold pb-1 mb-4">The Paper-Based Diagnostic</h4>
                                <img src="https://placehold.co/600x400/003262/FDB515?text=Final+Product+Paper-Based+Diagnostic+Mockup" alt="Mockup of the final paper-based diagnostic product" class="rounded-xl shadow-2xl border-4 border-igem-gold/50">
                                <p class="text-sm text-gray-500 italic mt-3 text-center">Mockup of the final NeuroSplice diagnostic device, designed for low-cost, decentralized testing outside of specialized labs.</p>
                            </div>
                        </div>
                    </div>

                    <!-- 2.4 Safety & Security Tab -->
                    <div id="safety-security-content" class="tab-content hidden opacity-0 translate-y-4">
                        <h3 class="text-3xl font-semibold text-gray-700 mb-6 animate-on-scroll fade-up">Safety & Biosecurity</h3>
                        <div class="p-6 bg-blue-50 border-l-4 border-igem-blue rounded-xl shadow-lg animate-on-scroll fade-up" style="transition-delay: 0.1s;">
                            <h4 class="font-bold text-xl mb-2 text-igem-blue">Minimizing Risk: Cell-Free System</h4>
                            <p class="text-lg text-gray-700 leading-relaxed">
                                Our primary safety measure is the use of a **Cell-Free Transcription-Translation (TX-TL)** system. By eliminating the living organism (*E. coli*), we entirely remove the risk of environmental release, making NeuroSplice inherently safer and easier to deploy in non-laboratory settings.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

                    <!-- DBTL (Design → Build → Test → Learn) sticky pipette progress -->
                    <section id="dbtl" class="section-anchor animate-on-scroll fade-up mb-24">
                        <h2 class="text-4xl font-bold text-igem-blue mb-5 pb-2">
                        <span class="border-b-4 border-igem-gold pb-1">Design → Build → Test → Learn</span>
                        </h2>
                    
                        <div class="dbtl-grid">
                        <!-- LEFT: Sticky pipette and phase labels -->
                        <aside class="dbtl-left">
                            <div class="dbtl-pipette-wrap">
                            <!-- Pipette SVG -->
                            <div class="w-full h-[46vh] lg:h-[52vh]">
                                <svg id="pipette-svg" class="pipette-svg" viewBox="0 0 200 600" xmlns="http://www.w3.org/2000/svg" aria-labelledby="pipetteTitle pipetteDesc" role="img">
                                <title id="pipetteTitle">Pipette tip fill indicator</title>
                                <desc id="pipetteDesc">Fills as you scroll through Design, Build, Test, Learn phases</desc>
                                <!-- Tip outline + clip -->
                                <defs>
                                    <clipPath id="pipette-clip">
                                    <!-- Silhouette shape -->
                                    <path id="pipette-shape" d="M100 10 L120 60 L120 260 Q120 300 100 330 Q80 300 80 260 L80 60 Z M100 330 L70 580 Q100 590 130 580 Z"/>
                                    </clipPath>
                                    <linearGradient id="fill-grad" x1="0" y1="1" x2="0" y2="0">
                                    <stop offset="0%" stop-color="#3d93a6" stop-opacity="0.95"/>
                                    <stop offset="100%" stop-color="#1b496b" stop-opacity="0.95"/>
                                    </linearGradient>
                                </defs>
                    
                                <!-- Outline -->
                                <path d="M100 10 L120 60 L120 260 Q120 300 100 330 Q80 300 80 260 L80 60 Z M100 330 L70 580 Q100 590 130 580 Z"
                                        fill="none" stroke="#94a3b8" stroke-width="4"/>
                    
                                <!-- Fill (animated via JS) -->
                                <g clip-path="url(#pipette-clip)">
                                    <!-- Start empty: y=600, h=0; ends: y=0, h=600 -->
                                    <rect id="pipette-fill" x="60" y="600" width="80" height="0" fill="url(#fill-grad)"/>
                                </g>
                                </svg>
                            </div>
                    
                            <!-- Phase labels -->
                            <div class="dbtl-phases">
                                <button data-phase="design" class="dbtl-phase-label" onclick="document.getElementById('phase-design').scrollIntoView({behavior:'smooth'})">
                                <span class="dbtl-dot"></span><span>Design</span>
                                </button>
                                <button data-phase="build" class="dbtl-phase-label" onclick="document.getElementById('phase-build').scrollIntoView({behavior:'smooth'})">
                                <span class="dbtl-dot"></span><span>Build</span>
                                </button>
                                <button data-phase="test" class="dbtl-phase-label" onclick="document.getElementById('phase-test').scrollIntoView({behavior:'smooth'})">
                                <span class="dbtl-dot"></span><span>Test</span>
                                </button>
                                <button data-phase="learn" class="dbtl-phase-label" onclick="document.getElementById('phase-learn').scrollIntoView({behavior:'smooth'})">
                                <span class="dbtl-dot"></span><span>Learn</span>
                                </button>
                            </div>
                            </div>
                        </aside>
                    
                        <!-- RIGHT: Phase content -->
                        <div id="dbtl-right" class="dbtl-right space-y-8">
                            <!-- DESIGN -->
                            <article id="phase-design" class="dbtl-card p-6">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="dbtl-badge">Design</span>
                                <h3 class="dbtl-section-title">Computational & Conceptual Design</h3>
                            </div>
                            <p class="text-gray-700 leading-relaxed">
                                Define the problem and specifications. Select target splice variant(s), draft toehold architecture, run NUPACK folding checks,
                                and BLAST for specificity. Plan measurement strategy and acceptance criteria.
                            </p>
                            </article>
                    
                            <!-- BUILD -->
                            <article id="phase-build" class="dbtl-card p-6">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="dbtl-badge">Build</span>
                                <h3 class="dbtl-section-title">Construct & Assemble</h3>
                            </div>
                            <p class="text-gray-700 leading-relaxed">
                                Order oligos/gBlocks, assemble reporters, confirm sequences, and prep TX-TL reagents. Establish plate layouts and controls
                                (positive/negative/canonical).
                            </p>
                            </article>
                    
                            <!-- TEST -->
                            <article id="phase-test" class="dbtl-card p-6">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="dbtl-badge">Test</span>
                                <h3 class="dbtl-section-title">Characterize Performance</h3>
                            </div>
                            <p class="text-gray-700 leading-relaxed">
                                Run cell-free reactions, time-course plate reads, calculate fold-activation, leakage, LOD/LOQ, and cross-reactivity.
                                Normalize with standards; document protocols and raw data.
                            </p>
                            </article>
                    
                            <!-- LEARN -->
                            <article id="phase-learn" class="dbtl-card p-6">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="dbtl-badge">Learn</span>
                                <h3 class="dbtl-section-title">Analyze & Iterate</h3>
                            </div>
                            <p class="text-gray-700 leading-relaxed">
                                Compare to acceptance criteria, identify bottlenecks (structure, sequence context, trigger length), refine designs, and feed
                                insights back into the next Design cycle.
                            </p>
                            </article>
                        </div>
                        </div>
                    </section>

        <!-- 3. Wet Lab & Results -->
        <section id="wet-lab-results" class="section-anchor mb-24">
            <h2 class="text-4xl font-bold text-igem-blue mb-5 pb-2 animate-on-scroll fade-up">
                <span class="border-b-4 border-igem-gold pb-1">Wet Lab & Results</span>
            </h2>
            
            <!-- NEW CONTAINER: This main box contains the tabs and the content -->
            <div class="bg-white p-6 rounded-2xl shadow-2xl animate-on-scroll fade-up relative" style="transition-delay: 0.2s;">

                <!-- Wet Lab Tab Navigation (Sliding Box Implementation) -->
                <div id="lab-nav" class="flex flex-wrap justify-between bg-gray-100 p-2 rounded-2xl shadow-inner relative mb-8">
                    <!-- Sliding Background Indicator (The "Box" that slides) -->
                    <div 
                        id="lab-indicator" 
                        class="absolute h-full bg-igem-gold/20 rounded-2xl transition-all duration-300 ease-in-out pointer-events-none opacity-0" 
                        style="top: 8px; bottom: 8px; left: 8px; z-index: 0;">
                    </div>

                    <button onclick="switchLabTab('lab-results')" data-lab-tab="lab-results" class="lab-tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Results
                    </button>
                    <button onclick="switchLabTab('lab-notebook')" data-lab-tab="lab-notebook" class="lab-tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Notebook
                    </button>
                    <button onclick="switchLabTab('lab-measurement')" data-lab-tab="lab-measurement" class="lab-tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Measurement
                    </button>
                    <button onclick="switchLabTab('lab-contribution')" data-lab-tab="lab-contribution" class="lab-tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Contribution
                    </button>
                </div>

                <!-- Wet Lab Tab Content Container -->
                <div id="lab-tab-content-container" class="px-2 pb-2">

                    <!-- 3.1 Results Tab (Default Active) -->
                    <div id="lab-results-content" class="lab-tab-content">
                        <h3 class="text-3xl font-semibold text-gray-700 mb-6 animate-on-scroll fade-up">Functional Validation of the Toehold Switch</h3>
                        
                        <div class="md:grid md:grid-cols-2 gap-8 items-center">
                            <div class="animate-on-scroll slide-right" style="transition-delay: 0.1s;">
                                <h4 class="text-2xl font-medium text-igem-blue mb-3">Specificity Testing (IL7R)</h4>
                                <p class="text-lg text-gray-700 leading-relaxed mb-4">
                                    The most crucial test: confirming the NeuroSplice toehold switch differentiates the disease variant from the canonical (normal) RNA.
                                </p>
                                <ul class="list-disc list-outside ml-6 space-y-2 text-gray-700 bg-gray-50 p-4 rounded-lg">
                                    <li>**Activation:** **5.2-fold** increase in fluorescence with the target variant.</li>
                                    <li>**Baseline:** Only **1.1-fold** increase with the canonical, non-target RNA.</li>
                                </ul>
                            </div>
                            <div class="mt-6 md:mt-0 animate-on-scroll scale-up" style="transition-delay: 0.2s;">
                                <img src="https://placehold.co/500x350/003262/4CAF50?text=Fluorescence+Specificity+Graph" alt="Fluorescence Data Graph showing 5.2x activation" class="rounded-xl shadow-xl border-4 border-gray-100">
                                <p class="text-sm text-gray-500 italic mt-3 text-center">Figure 4: Confirmed single-nucleotide discrimination capacity.</p>
                            </div>
                        </div>
                    </div>

                    <!-- 3.2 Notebook Tab -->
                    <div id="lab-notebook-content" class="lab-tab-content hidden opacity-0 translate-y-4">
                        <h3 class="text-3xl font-semibold text-igem-blue mb-4 animate-on-scroll fade-up">Detailed Laboratory Notebook and Protocols</h3>
                        <div class="p-6 bg-gray-100 rounded-xl border-l-4 border-green-500 shadow-lg animate-on-scroll fade-up" style="transition-delay: 0.1s;">
                            <p class="text-lg text-gray-700 leading-relaxed mb-4">
                                **[YOUR CONTENT HERE]** All detailed protocols, cloning attempts, and daily logs are archived here. Full documentation, including failures and troubleshooting, is essential for reproducibility.
                            </p>
                        </div>
                    </div>

                    <!-- 3.3 Measurement Tab -->
                    <div id="lab-measurement-content" class="lab-tab-content hidden opacity-0 translate-y-4">
                        <h3 class="text-3xl font-semibold text-igem-blue mb-4 animate-on-scroll fade-up">Measurement & Data Standards</h3>
                        <div class="p-6 bg-gray-100 rounded-xl border-l-4 border-yellow-500 shadow-lg animate-on-scroll fade-up" style="transition-delay: 0.1s;">
                            <p class="text-lg text-gray-700 leading-relaxed mb-4">
                                **[YOUR CONTENT HERE]** We followed the iGEM standard measurement protocols to ensure our data is comparable across teams and years. All raw RFU data has been normalized and calibrated using LUDOX and fluorescein standards.
                            </p>
                        </div>
                    </div>

                    <!-- 3.4 Contribution Tab -->
                    <div id="lab-contribution-content" class="lab-tab-content hidden opacity-0 translate-y-4">
                        <h3 class="text-3xl font-semibold text-igem-blue mb-4 animate-on-scroll fade-up">Contribution to the Registry</h3>
                        <div class="p-6 bg-gray-100 rounded-xl border-l-4 border-red-500 shadow-lg animate-on-scroll fade-up" style="transition-delay: 0.1s;">
                            <h4 class="font-bold text-xl mb-2 text-red-600">New Part: BBa_Xxxxxxx (IL7R Toehold Switch)</h4>
                            <p class="text-lg text-gray-700 leading-relaxed">
                                **[YOUR CONTENT HERE]** We submit a new Composite Part incorporating the specifically designed IL7R toehold switch and a fluorescent reporter.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Human Practices -->
        <section id="humanpractices" class="section-anchor mb-24">
            <h2 class="text-4xl font-bold text-igem-blue mb-5 pb-2 animate-on-scroll fade-up">
                <span class="border-b-4 border-igem-gold pb-1">Integrated Human Practices</span>
            </h2>

            <!-- NEW CONTAINER: This main box contains the tabs and the content -->
            <div class="bg-white p-6 rounded-2xl shadow-2xl animate-on-scroll fade-up relative" style="transition-delay: 0.2s;">

                <!-- HP Tab Navigation (Sliding Box Implementation) -->
                <div id="hp-nav" class="flex flex-wrap justify-between bg-gray-100 p-2 rounded-2xl shadow-inner relative mb-8">
                    <!-- Sliding Background Indicator (The "Box" that slides) -->
                    <div 
                        id="hp-indicator" 
                        class="absolute h-full bg-igem-gold/20 rounded-2xl transition-all duration-300 ease-in-out pointer-events-none opacity-0" 
                        style="top: 8px; bottom: 8px; left: 8px; z-index: 0;">
                    </div>

                    <button onclick="switchHPTab('hp-engagement')" data-hp-tab="hp-engagement" class="hp-tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Engagement
                    </button>
                    <button onclick="switchHPTab('hp-education')" data-hp-tab="hp-education" class="hp-tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Education
                    </button>
                    <button onclick="switchHPTab('hp-impact')" data-hp-tab="hp-impact" class="hp-tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Impact & Safety
                    </button>
                </div>

                <!-- HP Tab Content Container -->
                <div id="hp-tab-content-container" class="px-2 pb-2">

                    <!-- 4.1 Engagement Tab (Default Active) -->
                    <div id="hp-engagement-content" class="hp-tab-content">
                        <h3 class="text-3xl font-semibold text-gray-700 mb-4 animate-on-scroll fade-up">Integrating Expert Feedback</h3>
                        <p class="text-lg text-gray-700 leading-relaxed mb-4 animate-on-scroll fade-up" style="transition-delay: 0.1s;">
                            **[YOUR ENGAGEMENT OVERVIEW HERE]** Conversations with neurologists at UCSF were critical. They highlighted the need for non-invasive, accessible diagnostics for MS monitoring in remote or underserved communities, which drove our choice of a paper-based cell-free system.
                        </p>
                    </div>

                    <!-- 4.2 Education Tab -->
                    <div id="hp-education-content" class="hp-tab-content hidden opacity-0 translate-y-4">
                         <h3 class="text-3xl font-semibold text-gray-700 mb-4 animate-on-scroll fade-up">Science Communication and Outreach</h3>
                         <p class="text-lg text-gray-700 leading-relaxed mb-4 animate-on-scroll fade-up" style="transition-delay: 0.1s;">
                            **[YOUR EDUCATION OVERVIEW HERE]** We created educational modules on synthetic biology and splicing variants for local high schools.
                        </p>
                    </div>

                    <!-- 4.3 Impact & Safety Tab -->
                    <div id="hp-impact-content" class="hp-tab-content hidden opacity-0 translate-y-4">
                        <h3 class="text-3xl font-semibold text-gray-700 mb-4 animate-on-scroll fade-up">Considering ELSI</h3>
                        <p class="text-lg text-gray-700 leading-relaxed mb-4 animate-on-scroll fade-up" style="transition-delay: 0.1s;">
                            **[YOUR IMPACT OVERVIEW HERE]** We addressed the Ethical, Legal, and Social Implications (ELSI) of genetic diagnostics, focusing on data privacy and equitable access to the diagnostic technology.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. Team & Attributions -->
        <section id="team-attributions" class="section-anchor mb-24">
            <h2 class="text-4xl font-bold text-igem-blue mb-5 pb-2 animate-on-scroll fade-up">
                <span class="border-b-4 border-igem-gold pb-1">Team & Attributions</span>
            </h2>

            <!-- NEW CONTAINER: This main box contains the tabs and the content -->
            <div class="bg-white p-6 rounded-2xl shadow-2xl animate-on-scroll fade-up relative" style="transition-delay: 0.2s;">

                <!-- Team Tab Navigation (Sliding Box Implementation) -->
                <div id="team-nav" class="flex flex-wrap justify-between bg-gray-100 p-2 rounded-2xl shadow-inner relative mb-8">
                    <!-- Sliding Background Indicator (The "Box" that slides) -->
                    <div 
                        id="team-indicator" 
                        class="absolute h-full bg-igem-gold/20 rounded-2xl transition-all duration-300 ease-in-out pointer-events-none opacity-0" 
                        style="top: 8px; bottom: 8px; left: 8px; z-index: 0;">
                    </div>

                    <button onclick="switchTeamTab('team')" data-team-tab="team" class="team-tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Our Team
                    </button>
                    <button onclick="switchTeamTab('attributions')" data-team-tab="attributions" class="team-tab-button flex-1 py-2 px-4 text-base transition-colors duration-300 focus:outline-none rounded-2xl whitespace-nowrap relative z-10">
                        Attributions
                    </button>
                </div>

                <!-- Team Tab Content Container -->
                <div id="team-tab-content-container" class="px-2 pb-2">

                    <!-- Our Team Tab -->
                    <div id="team-content" class="team-tab-content">
                        <h3 class="text-3xl font-semibold text-gray-700 mb-8 text-center animate-on-scroll fade-up">Meet Our Dedicated Members</h3>

                        <div class="relative w-full px-0">
                            <!-- Left Scroll Button -->
                            <button id="scroll-prev" class="absolute left-0 top-1/2 z-20 p-3 bg-white rounded-full shadow-xl border border-gray-100 hover:bg-gray-100 transition-all duration-200 transform -translate-x-1/2 -mt-10 hidden lg:block" aria-label="Previous Team Member">
                                <svg class="w-6 h-6 text-igem-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M15 19l-7-7 7-7"></path></svg>
                            </button>
                            <ul id="team-card-grid" class="team-carousel animate-on-scroll fade-up">
                                <!-- Team member cards will be injected here by renderTeamGrid() -->
                                <p class="text-center text-gray-500 w-full">Loading team members...</p>
                            </ul>
                            <!-- Right Scroll Button -->
                            <button id="scroll-next" class="absolute right-0 top-1/2 z-20 p-3 bg-white rounded-full shadow-xl border border-gray-100 hover:bg-gray-100 transition-all duration-200 transform translate-x-1/2 -mt-10 hidden lg:block" aria-label="Next Team Member">
                                <svg class="w-6 h-6 text-igem-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 5l7 7-7 7"></path></svg>
                            </button>
                        </div>
                        <p class="text-center text-sm text-gray-500 mt-4 lg:hidden">Swipe horizontally on the cards to see more team members.</p>
                    </div>

                    <!-- Attributions Tab -->
                    <div id="attributions-content" class="team-tab-content hidden opacity-0 translate-y-4">
                        <h3 class="text-3xl font-semibold text-gray-700 mb-4 animate-on-scroll fade-up">Attributions and Acknowledgements</h3>
                        <p class="text-lg text-gray-700 leading-relaxed mb-6 animate-on-scroll fade-up" style="transition-delay: 0.1s;">
                            **[YOUR CONTENT HERE]** Clearly state who did what. Credit all individuals and institutions who helped you—advisors, labs, sponsors, other teams, and members who contributed significantly to specific parts of the project.
                        </p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-igem-blue text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p>&copy; 2025 - CalUCSF NeuroSplice. Content licensed under CC BY 4.0 International.</p>
            <p class="mt-2 text-sm text-gray-400">Engineered with synthetic biology principles for a better future.</p>
        </div>
    </footer>
    <script>
        /* DBTL pipette scroll logic */
        (function(){
          const right = document.getElementById('dbtl-right');
          const fill = document.getElementById('pipette-fill');
          const labels = Array.from(document.querySelectorAll('.dbtl-phase-label'));
          const phaseIds = ['phase-design','phase-build','phase-test','phase-learn'];
          const viewH = () => window.innerHeight || document.documentElement.clientHeight;
        
          function clamp01(v){ return Math.min(1, Math.max(0, v)); }
        
          function updateFill(){
            if(!right || !fill) return;
            const rect = right.getBoundingClientRect();
            // Progress: when top hits ~15% viewport (start) to when bottom leaves ~85% (end)
            const start = viewH()*0.15;
            const end = viewH()*0.85;
            const total = (rect.height + start + (viewH()-end));
            const scrolled = (start - rect.top); // how much we've moved past start
            const t = clamp01(scrolled / total);
        
            // SVG viewBox is 600 tall. y decreases as we fill up; height increases.
            const H = 600;
            const h = H * t;
            const y = H - h;
            fill.setAttribute('y', y.toFixed(2));
            fill.setAttribute('height', h.toFixed(2));
          }
        
          // Highlight the phase closest to viewport center
          function updateActivePhase(){
            const centerY = viewH()/2;
            let best = null, bestDist = Infinity;
            phaseIds.forEach(id=>{
              const el = document.getElementById(id);
              if(!el) return;
              const r = el.getBoundingClientRect();
              const mid = r.top + r.height/2;
              const d = Math.abs(mid - centerY);
              if(d < bestDist){ bestDist = d; best = id; }
            });
        
            labels.forEach(btn=>{
              btn.classList.toggle('active', btn.getAttribute('data-phase') === (best?.split('-')[1] || ''));
            });
          }
        
          // Throttle with rAF
          let ticking = false;
          function onScrollOrResize(){
            if(ticking) return;
            ticking = true;
            requestAnimationFrame(()=>{
              updateFill();
              updateActivePhase();
              ticking = false;
            });
          }
        
          // Init
          window.addEventListener('scroll', onScrollOrResize, {passive:true});
          window.addEventListener('resize', onScrollOrResize);
          document.addEventListener('DOMContentLoaded', ()=>{
            onScrollOrResize();
            // Run again after fonts/layout settle
            setTimeout(onScrollOrResize, 250);
          });
        })();
        </script>
        
</body>
</html>
